{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar React = require(\"react\");\n\nfunction _interopDefaultLegacy(e) {\n  return e && \"object\" == typeof e && \"default\" in e ? e : {\n    default: e\n  };\n}\n\nvar React__default = _interopDefaultLegacy(React),\n    InstagramGallery = function (t) {\n  function a(e) {\n    fetch(e).then(function (e) {\n      return e.json();\n    }).then(function (e) {\n      console.log({\n        data: e\n      }), e.hasOwnProperty(\"error\") ? (c(!1), i(!0)) : (o(e), c(!1));\n    }).catch(function (e) {\n      console.error(\"Error:\", e), i(!0), c(!1);\n    });\n  }\n\n  var e = React.useState(!0),\n      n = e[0],\n      c = e[1],\n      l = React.useState(!1),\n      r = l[0],\n      i = l[1],\n      e = React.useState(null),\n      u = e[0],\n      o = e[1],\n      l = React.useState(!1),\n      e = l[0],\n      s = l[1],\n      l = React.useState(\"\"),\n      m = l[0],\n      f = l[1],\n      l = React.useState(\"\"),\n      d = l[0],\n      _ = l[1];\n  React.useEffect(function () {\n    var e = \"https://graph.instagram.com/me/media?fields=media_count,media_type,permalink,media_url,caption&limit=\" + t.count + \"&access_token=\" + t.accessToken;\n    a(e);\n  }, []), React.useEffect(function () {\n    t.pagination && s(t.pagination);\n  }, [t]), React.useEffect(function () {\n    null !== u && (f(u.paging.next), _(u.paging.previous));\n  }, [u]);\n  return n ? React__default.default.createElement(\"div\", {\n    className: \"instagram-gallery\"\n  }, \"LOADING...\") : r ? React__default.default.createElement(\"div\", {\n    className: \"instagram-gallery\"\n  }, \"Ruh Roh!. Something went wrong.\") : React__default.default.createElement(\"div\", {\n    className: \"instagram-gallery\"\n  }, u.data.slice(0, t.count).map(function (e, t) {\n    return React__default.default.createElement(\"div\", {\n      key: t,\n      className: \"instagram-item\"\n    }, React__default.default.createElement(\"a\", {\n      key: t,\n      href: e.permalink,\n      className: \"instagram-link\",\n      target: \"_blank\",\n      rel: \"noreferrer\"\n    }, \"IMAGE\" === e.media_type || \"CAROUSEL_ALBUM\" === e.media_type ? React__default.default.createElement(\"img\", {\n      className: \"instagram-image\",\n      key: t,\n      src: e.media_url,\n      alt: e.caption\n    }) : React__default.default.createElement(\"video\", {\n      className: \"instagram-image\",\n      key: t\n    }, React__default.default.createElement(\"source\", {\n      src: e.media_url,\n      type: \"video/mp4\"\n    }))));\n  }), e && React__default.default.createElement(\"div\", {\n    className: \"pagination\"\n  }, d && React__default.default.createElement(\"button\", {\n    className: \"pagination-btn pagination-prev\",\n    type: \"button\",\n    onClick: function () {\n      a(d);\n    }\n  }, \"Previous\"), m && React__default.default.createElement(\"button\", {\n    className: \"pagination-btn pagination-next\",\n    type: \"button\",\n    onClick: function () {\n      a(m);\n    }\n  }, \"Next\")));\n};\n\nexports.InstagramGallery = InstagramGallery;","map":{"version":3,"sources":["/Users/slavkapc/GitHub/slavkavav/node_modules/instagram-gallery/src/index.tsx"],"names":["InstagramGallery","props","loading","setLoading","useState","_b","error","setError","_c","instagramData","setInstagramData","_d","usePagination","setUsePagination","_e","paginationNextUrl","setPaginationNextUrl","_f","paginationPrevUrl","setPaginationPrevUrl","fetchInstagramData","url","fetch","then","response","json","data","console","log","hasOwnProperty","catch","useEffect","count","accessToken","pagination","paging","next","previous","React","className","slice","map","item","index","key","href","permalink","target","rel","media_type","src","media_url","alt","caption","type","onClick"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\ninterface GalleryProps {\n    accessToken: string;\n    count: number;\n    pagination?: boolean;\n}\n\nexport const InstagramGallery = (props: GalleryProps) => {\n    const [loading, setLoading] = useState<Boolean>(true);\n    const [error, setError] = useState<Boolean>(false);\n    const [instagramData, setInstagramData] = useState<any>(null);\n    const [usePagination, setUsePagination] = useState<boolean>(false);\n    const [paginationNextUrl, setPaginationNextUrl] = useState<string>(\"\");\n    const [paginationPrevUrl, setPaginationPrevUrl] = useState<string>(\"\");\n\n    const fetchInstagramData = (url: string) => {\n        fetch(url)\n            .then((response) => {\n                return response.json();\n            })\n            .then((data) => {\n                console.log({ data });\n                if (data.hasOwnProperty(\"error\")) {\n                    setLoading(false);\n                    setError(true);\n                } else {\n                    setInstagramData(data);\n                    setLoading(false);\n                }\n            })\n            .catch((error) => {\n                console.error(\"Error:\", error);\n                setError(true);\n                setLoading(false);\n            });\n    };\n\n    useEffect(() => {\n        const url = `https://graph.instagram.com/me/media?fields=media_count,media_type,permalink,media_url,caption&limit=${props.count}&access_token=${props.accessToken}`;\n        fetchInstagramData(url);\n    }, []);\n\n    useEffect(() => {\n        if (props.pagination) {\n            setUsePagination(props.pagination);\n        }\n    }, [props]);\n\n    useEffect(() => {\n        if (instagramData !== null) {\n            setPaginationNextUrl(instagramData.paging.next);\n            setPaginationPrevUrl(instagramData.paging.previous);\n        }\n    }, [instagramData]);\n\n    const handlePaginationNext = () => {\n        fetchInstagramData(paginationNextUrl);\n    };\n\n    const handlePaginationPrev = () => {\n        fetchInstagramData(paginationPrevUrl);\n    };\n\n    if (loading) {\n        return <div className=\"instagram-gallery\">LOADING...</div>;\n    }\n\n    if (error) {\n        return (\n            <div className=\"instagram-gallery\">\n                Ruh Roh!. Something went wrong.\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"instagram-gallery\">\n            {instagramData.data\n                .slice(0, props.count)\n                .map((item: any, index: any) => (\n                    <div key={index} className=\"instagram-item\">\n                        <a\n                            key={index}\n                            href={item.permalink}\n                            className=\"instagram-link\"\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                        >\n                            {item.media_type === \"IMAGE\" ||\n                            item.media_type === \"CAROUSEL_ALBUM\" ? (\n                                <img\n                                    className=\"instagram-image\"\n                                    key={index}\n                                    src={item.media_url}\n                                    alt={item.caption}\n                                />\n                            ) : (\n                                <video className=\"instagram-image\" key={index}>\n                                    <source\n                                        src={item.media_url}\n                                        type=\"video/mp4\"\n                                    />\n                                </video>\n                            )}\n                        </a>\n                    </div>\n                ))}\n            {usePagination && (\n                <div className=\"pagination\">\n                    {paginationPrevUrl && (\n                        <button\n                            className=\"pagination-btn pagination-prev\"\n                            type=\"button\"\n                            onClick={handlePaginationPrev}\n                        >\n                            Previous\n                        </button>\n                    )}\n                    {paginationNextUrl && (\n                        <button\n                            className=\"pagination-btn pagination-next\"\n                            type=\"button\"\n                            onClick={handlePaginationNext}\n                        >\n                            Next\n                        </button>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"script"}